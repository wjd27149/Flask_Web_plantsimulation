{% extends "common/layout_main.html" %}
{% block content %}

<!-- 顶部标题区（增加下边距 mb-4） -->
<div class="row border-bottom mb-4">
    <div class="col-lg-12">
        <div class="tab_title">
            <ul class="nav nav-pills">
                <!-- 导航选项 -->
            </ul>
        </div>
    </div>
</div>

<!-- 主内容区（使用固定间距类） -->
<div class="row justify-content-center">
    <div class="col-lg-10">
        <div class="card">
            <!-- 卡片头部（增加下边距 pb-3） -->
            <div class="card-header pb-3">
                <h1 class="card-title text-center mb-0">添加新机器</h1>  <!-- 移除默认边距 -->
            </div>
            
            <!-- 卡片主体（使用统一间距 p-4） -->
            <div class="card-body p-4">
                <form action="{{ url_for('book.add_machine', user_id=current_user.id) }}" method="POST">

                    <!-- 使用固定间距的行（g-4表示项与项之间16px间距） -->
                    <div class="row g-4 mb-4">  <!-- 底部增加16px间距 -->
                        <!-- 第一列：基础信息 -->
                        <div class="col-md-6">
                            <div class="card h-100">
                                <!-- 子卡片头部（缩小内边距 py-2） -->
                                <div class="card-header bg-light py-2">
                                    <h2 class="mb-0">基础信息</h2>
                                </div>
                                <div class="card-body">
                                    <!-- 每个表单项使用固定间距 mb-3（16px） -->
                                    <div class="mb-3">
                                        <label class="form-label">机器ID</label>
                                        <input type="text" class="form-control" 
                                               name="m_id" required placeholder="1">
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label class="form-label">机床编码</label>
                                        <input type="text" class="form-control" 
                                               name="m_number" required>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label class="form-label">机床名称</label>
                                        <input type="text" class="form-control" 
                                               name="m_name" required>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 第二列：状态信息 -->
                        <div class="col-md-6">
                            <div class="card h-100">
                                <div class="card-header bg-light py-2">
                                    <h2 class="mb-0">状态信息</h2>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label class="form-label">机床状态</label>
                                        <select class="form-select" name="m_state">
                                            <option value="待机" selected>待机</option>
                                            <option value="运行">运行</option>
                                            <option value="维修">维修</option>
                                        </select>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label class="form-label">所在车间</label>
                                        <input type="text" class="form-control" 
                                               name="m_workshop" required>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label class="form-label">累计运行(小时)</label>
                                        <input type="number" class="form-control" 
                                               name="m_time" value="0" step="0.1">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 按钮区（顶部增加间距 mt-4） -->
                    <div class="d-flex justify-content-between mt-4">  <!-- 使用 d-flex 和 justify-content-between 调整按钮位置 -->
                        <a href="{{ url_for('book.machine_list', bid=current_user.id) }}" 
                        class="btn btn-danger btn-lg py-3">  <!-- 设置为红色按钮 -->
                            <i class="fas fa-times me-2"></i>取消返回
                        </a>
                        <button type="submit" class="btn btn-primary btn-lg py-3">  <!-- 增加按钮内边距 -->
                            <i class="fas fa-save me-2"></i>确认添加
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}